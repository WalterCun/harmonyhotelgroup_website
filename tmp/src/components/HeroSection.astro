---
// HeroSection.astro - Hero section with changing background images
import ReservationForm from './ReservationForm.astro';
---

<section class="relative min-h-screen flex items-center justify-center overflow-hidden" x-data="heroSlideshow">
    <!-- Background images -->
    <template x-for="(image, index) in images" :key="index">
        <div
                class="absolute inset-0 w-full h-full bg-cover bg-center transition-opacity duration-1000 ease-in-out"
                :style="`background-image: url('${image}')`"
                :class="{ 'opacity-100': currentImageIndex === index, 'opacity-0': currentImageIndex !== index }"
        ></div>
    </template>

    <!-- IFrame de Youtube -->
    <div id="video-yt" class="absolute inset-0" :style=".video-yt {position: relative;overflow: hidden;width: 100%;padding-top: 56.25%;} .video-yt iframe {position: absolute;top: 0;left: 0;bottom: 0;right: 0;width: 100%;height: 100%;}">
        <iframe
                width="100%" height="100%"
                src="https://www.youtube.com/embed/hX9wclY8TDk?si=u4Y3VV0VejHBNUj9&autoplay=1&mute=1&controls=0&loop=1"
                title="Cuenca" frameborder="0" allowfullscreen="allowfullscreen"></iframe>
                <!--allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"-->
                <!--referrerpolicy="strict-origin-when-cross-origin" -->
    </div>

    <!-- Overlay -->
    <div class="absolute inset-0 bg-black bg-opacity-50"></div>

    <!-- Content -->
    <div class=" z-10 container mx-auto px-4 py-16">
        <div class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-serif font-bold text-white mb-4 animate-fade-in">
                Harmony Hotel Group
            </h1>
            <p class="text-xl md:text-2xl text-white font-light max-w-3xl mx-auto animate-slide-up">
                Descubre la magia de Cuenca con nuestras exclusivas propiedades
            </p>
        </div>

        <ReservationForm/>
    </div>
</section>

<script>
    // This script ensures Alpine.js works correctly with Astro's partial hydration
    document.addEventListener('astro:page-load', () => {
        if (window.Alpine) {
            window.Alpine.initTree(document.body);
        }
    });
</script>
