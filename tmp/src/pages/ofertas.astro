---
import Layout from '../layouts/Layout.astro';
import { Icon } from 'astro-icon/components';

// Get translations based on current locale
const { currentLocale } = Astro;
const translations = await import(`../i18n/${currentLocale || 'es'}.json`);

// Offers data
const offers = [
  {
    id: 1,
    title: 'Escapada Romántica',
    hotel: 'Harmony Resort & Spa Cancún',
    validUntil: '2023-12-31',
    discount: 25,
    price: 3200,
    priceOriginal: 4250,
    image: 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
    description: 'Incluye cena romántica, spa para parejas y late check-out. Perfecta para celebrar aniversarios o simplemente disfrutar de tiempo juntos.',
    features: ['Desayuno incluido', 'Cena romántica', 'Tratamiento de spa para parejas', 'Late check-out']
  },
  {
    id: 2,
    title: 'Paquete Familiar',
    hotel: 'Harmony Beach Club Los Cabos',
    validUntil: '2023-11-30',
    discount: 30,
    price: 4500,
    priceOriginal: 6400,
    image: 'https://images.unsplash.com/photo-1575429198097-0414ec08e8cd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
    description: 'Niños gratis y actividades incluidas para toda la familia. Disfruta de unas vacaciones inolvidables con tus seres queridos.',
    features: ['Niños menores de 12 años gratis', 'Actividades recreativas', 'Club infantil', 'Habitación familiar']
  },
  {
    id: 3,
    title: 'Estancia Prolongada',
    hotel: 'Harmony Urban Hotel CDMX',
    validUntil: '2023-10-15',
    discount: 35,
    price: 5800,
    priceOriginal: 8900,
    image: 'https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
    description: 'Quédate 7 noches y paga solo 5. Ideal para viajes de trabajo o para explorar la ciudad a tu ritmo.',
    features: ['7 noches al precio de 5', 'Desayuno diario', 'Acceso al gimnasio', 'Traslado al aeropuerto']
  },
  {
    id: 4,
    title: 'Experiencia Todo Incluido',
    hotel: 'Harmony Resort & Spa Cancún',
    validUntil: '2023-12-15',
    discount: 20,
    price: 6200,
    priceOriginal: 7750,
    image: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
    description: 'Disfruta de una experiencia sin preocupaciones con nuestro paquete todo incluido premium.',
    features: ['Todas las comidas incluidas', 'Bebidas premium', 'Actividades acuáticas', 'Entretenimiento nocturno']
  }
];
---

<Layout title={translations.nav.offers}>
  <div class="pt-24 pb-16 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4">
      <h1 class="text-4xl font-serif text-center mb-8 dark:text-white">{translations.nav.offers}</h1>
      
      <!-- Offers Grid -->
      <div class="grid md:grid-cols-2 gap-8">
        {offers.map(offer => (
          <div class="bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-lg">
            <div class="flex flex-col md:flex-row">
              <div class="relative md:w-2/5">
                <img 
                  src={offer.image} 
                  alt={offer.title}
                  class="w-full h-full object-cover min-h-[200px]"
                />
                <div class="absolute top-4 left-4 bg-red-600 text-white rounded-full px-3 py-1 text-sm font-bold">
                  {offer.discount}% OFF
                </div>
              </div>
              <div class="p-6 md:w-3/5">
                <h2 class="text-xl font-serif font-semibold mb-1 dark:text-white">{offer.title}</h2>
                <p class="text-gold-600 text-sm mb-2">{offer.hotel}</p>
                <p class="text-gray-600 dark:text-gray-400 mb-4 text-sm">{offer.description}</p>
                
                <div class="mb-4">
                  <h3 class="text-sm font-semibold mb-2 dark:text-white">Incluye:</h3>
                  <ul class="space-y-1">
                    {offer.features.map(feature => (
                      <li class="flex items-start gap-2 text-sm text-gray-600 dark:text-gray-400">
                        <Icon name="lucide:check" class="w-4 h-4 text-green-500 mt-0.5" />
                        <span>{feature}</span>
                      </li>
                    ))}
                  </ul>
                </div>
                
                <div class="flex justify-between items-end">
                  <div>
                    <p class="text-xs text-gray-500 dark:text-gray-400">Válido hasta: {new Date(offer.validUntil).toLocaleDateString()}</p>
                    <div class="flex items-baseline gap-2">
                      <span class="text-2xl font-bold text-gold-600">${offer.price}</span>
                      <span class="text-sm line-through text-gray-500">${offer.priceOriginal}</span>
                    </div>
                  </div>
                  <a 
                    href={`/ofertas/${offer.id}`}
                    class="inline-block bg-gold-600 text-white px-4 py-2 rounded-md hover:bg-gold-700 transition-colors"
                  >
                    Reservar
                  </a>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
      
      <!-- Newsletter Subscription -->
      <div class="mt-16 bg-white dark:bg-gray-900 rounded-lg p-8 shadow-lg">
        <div class="text-center mb-6">
          <h2 class="text-2xl font-serif mb-2 dark:text-white">¿Quieres recibir nuestras mejores ofertas?</h2>
          <p class="text-gray-600 dark:text-gray-400">Suscríbete a nuestro newsletter y recibe promociones exclusivas.</p>
        </div>
        <form class="max-w-md mx-auto">
          <div class="flex">
            <input 
              type="email" 
              placeholder="Tu correo electrónico" 
              class="flex-grow px-4 py-2 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-gold-500"
              required
            />
            <button 
              type="submit"
              class="bg-gold-600 text-white px-6 py-2 rounded-r-md hover:bg-gold-700 transition-colors"
            >
              Suscribirse
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</Layout>