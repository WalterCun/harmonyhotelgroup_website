---
import {Calendar, Baby, Users, Search} from 'lucide-astro'
---

<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">-->
<!--<script is:inline src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->
<!--<script is:inline src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>-->
<!--<script is:inline src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>-->

<!--<div class="hidden">-->
<!--  <div class="bg-white dark:bg-harmony-black-800 bg-opacity-90 dark:bg-opacity-90 p-6 rounded-lg shadow-lg w-4/5 mx-auto" x-data="reservationForm">-->
<!--    <h2 class="text-2xl font-serif text-harmony-black-700 dark:text-white mb-6 text-center">Reserva tu estancia</h2>-->

<!--    <form class="space-y-4" @submit.prevent="window.open(generateWhatsAppLink(), '_blank')">-->
<!--      &lt;!&ndash; Single row for dates, adults, and children &ndash;&gt;-->
<!--      <div class="grid grid-cols-1 md:grid-cols-12 gap-4 items-end">-->
<!--        &lt;!&ndash; Date pickers (Check-in and Check-out) &ndash;&gt;-->
<!--        <div class="md:col-span-6 grid grid-cols-2 gap-3" x-init="initDatepickers()">-->
<!--          &lt;!&ndash; Check-in date picker &ndash;&gt;-->
<!--          <div>-->
<!--            <label for="check-in-date" class="block text-harmony-black-700 dark:text-white font-medium mb-1">Entrada</label>-->
<!--            <div class="relative">-->
<!--              <input-->
<!--                  type="text"-->
<!--                  id="check-in-date"-->
<!--                  placeholder="Fecha de entrada"-->
<!--                  class="w-full px-3 py-2 border border-harmony-white-500 dark:border-harmony-black-600 bg-white dark:bg-harmony-black-700 text-harmony-black-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-harmony-gold-400"-->
<!--                  required-->
<!--                  readonly-->
<!--              >-->
<!--            </div>-->
<!--          </div>-->

<!--          &lt;!&ndash; Check-out date picker &ndash;&gt;-->
<!--          <div>-->
<!--            <label for="check-out-date" class="block text-harmony-black-700 dark:text-white font-medium mb-1">Salida</label>-->
<!--            <div class="relative">-->
<!--              <input-->
<!--                  type="text"-->
<!--                  id="check-out-date"-->
<!--                  placeholder="Fecha de salida"-->
<!--                  class="w-full px-3 py-2 border border-harmony-white-500 dark:border-harmony-black-600 bg-white dark:bg-harmony-black-700 text-harmony-black-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-harmony-gold-400"-->
<!--                  required-->
<!--                  readonly-->
<!--              >-->
<!--            </div>-->
<!--          </div>-->

<!--          &lt;!&ndash; Custom styling for Flatpickr &ndash;&gt;-->
<!--          <style>-->
<!--            .flatpickr-calendar {-->
<!--              width: auto !important;-->
<!--            }-->
<!--            .flatpickr-calendar.open {-->
<!--              z-index: 9999;-->
<!--            }-->
<!--            .flatpickr-months .flatpickr-month {-->
<!--              background-color: #d4b33f;-->
<!--            }-->
<!--            .flatpickr-current-month .flatpickr-monthDropdown-months,-->
<!--            .flatpickr-current-month .numInputWrapper {-->
<!--              color: white;-->
<!--            }-->
<!--            .flatpickr-weekday {-->
<!--              color: #404040;-->
<!--            }-->
<!--            .flatpickr-day.selected,-->
<!--            .flatpickr-day.startRange,-->
<!--            .flatpickr-day.endRange,-->
<!--            .flatpickr-day.selected.inRange,-->
<!--            .flatpickr-day.startRange.inRange,-->
<!--            .flatpickr-day.endRange.inRange,-->
<!--            .flatpickr-day.selected:focus,-->
<!--            .flatpickr-day.startRange:focus,-->
<!--            .flatpickr-day.endRange:focus,-->
<!--            .flatpickr-day.selected:hover,-->
<!--            .flatpickr-day.startRange:hover,-->
<!--            .flatpickr-day.endRange:hover {-->
<!--              background: #d4b33f;-->
<!--              border-color: #d4b33f;-->
<!--            }-->
<!--            .flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),-->
<!--            .flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),-->
<!--            .flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {-->
<!--              box-shadow: -10px 0 0 #d4b33f;-->
<!--            }-->
<!--            .flatpickr-day.inRange {-->
<!--              background: #f5d76e;-->
<!--              border-color: #f5d76e;-->
<!--            }-->
<!--          </style>-->
<!--        </div>-->

<!--        &lt;!&ndash; Number of adults &ndash;&gt;-->
<!--        <div class="md:col-span-3">-->
<!--          <label for="adults" class="block text-harmony-black-700 dark:text-white font-medium mb-1">Adultos</label>-->
<!--          <select-->
<!--              id="adults"-->
<!--              x-model="adults"-->
<!--              class="w-full px-3 py-2 border border-harmony-white-500 dark:border-harmony-black-600 bg-white dark:bg-harmony-black-700 text-harmony-black-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-harmony-gold-400"-->
<!--          >-->
<!--            <option value="1">1</option>-->
<!--            <option value="2">2</option>-->
<!--            <option value="3">3</option>-->
<!--            <option value="4">4</option>-->
<!--            <option value="5">5</option>-->
<!--            <option value="6">6</option>-->
<!--          </select>-->
<!--        </div>-->

<!--        &lt;!&ndash; Number of children &ndash;&gt;-->
<!--        <div class="md:col-span-3">-->
<!--          <label for="children" class="block text-harmony-black-700 dark:text-white font-medium mb-1">Niños</label>-->
<!--          <select-->
<!--              id="children"-->
<!--              x-model="children"-->
<!--              @change="updateChildrenAges()"-->
<!--              class="w-full px-3 py-2 border border-harmony-white-500 dark:border-harmony-black-600 bg-white dark:bg-harmony-black-700 text-harmony-black-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-harmony-gold-400"-->
<!--          >-->
<!--            <option value="0">0</option>-->
<!--            <option value="1">1</option>-->
<!--            <option value="2">2</option>-->
<!--            <option value="3">3</option>-->
<!--            <option value="4">4</option>-->
<!--          </select>-->
<!--        </div>-->
<!--      </div>-->

<!--      &lt;!&ndash; Children ages (dynamic) &ndash;&gt;-->
<!--      <div x-show="children > 0" class="space-y-3 animate-fade-in">-->
<!--        <p class="text-harmony-black-700 dark:text-white font-medium">Edad de los niños</p>-->
<!--        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">-->
<!--          <template x-for="(age, index) in childrenAges" :key="index">-->
<!--            <div>-->
<!--              <label :for="'child-age-' + index" class="block text-harmony-black-600 dark:text-harmony-white-600 text-sm mb-1" x-text="`Niño ${index + 1}`"></label>-->
<!--              <select-->
<!--                  :id="'child-age-' + index"-->
<!--                  x-model="childrenAges[index]"-->
<!--                  class="w-full px-3 py-2 border border-harmony-white-500 dark:border-harmony-black-600 bg-white dark:bg-harmony-black-700 text-harmony-black-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-harmony-gold-400"-->
<!--              >-->
<!--                <option value="">Seleccionar</option>-->
<!--                <option value="0">Menos de 1 año</option>-->
<!--                <option value="1">1 año</option>-->
<!--                <option value="2">2 años</option>-->
<!--                <option value="3">3 años</option>-->
<!--                <option value="4">4 años</option>-->
<!--                <option value="5">5 años</option>-->
<!--                <option value="6">6 años</option>-->
<!--                <option value="7">7 años</option>-->
<!--                <option value="8">8 años</option>-->
<!--                <option value="9">9 años</option>-->
<!--                <option value="10">10 años</option>-->
<!--                <option value="11">11 años</option>-->
<!--                <option value="12">12 años</option>-->
<!--                <option value="13">13 años</option>-->
<!--                <option value="14">14 años</option>-->
<!--                <option value="15">15 años</option>-->
<!--                <option value="16">16 años</option>-->
<!--                <option value="17">17 años</option>-->
<!--              </select>-->
<!--            </div>-->
<!--          </template>-->
<!--        </div>-->
<!--      </div>-->

<!--      &lt;!&ndash; Additional options &ndash;&gt;-->
<!--      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">-->
<!--        &lt;!&ndash; Breakfast option &ndash;&gt;-->
<!--        <div class="flex items-center">-->
<!--          <input-->
<!--              type="checkbox"-->
<!--              id="breakfast"-->
<!--              x-model="breakfast"-->
<!--              class="h-5 w-5 text-harmony-gold-500 focus:ring-harmony-gold-400 border-harmony-white-500 rounded"-->
<!--          >-->
<!--          <label for="breakfast" class="ml-2 block text-harmony-black-700 dark:text-white">Incluir desayuno</label>-->
<!--        </div>-->

<!--        &lt;!&ndash; Parking option &ndash;&gt;-->
<!--        <div class="flex items-center">-->
<!--          <input-->
<!--              type="checkbox"-->
<!--              id="parking"-->
<!--              x-model="parking"-->
<!--              class="h-5 w-5 text-harmony-gold-500 focus:ring-harmony-gold-400 border-harmony-white-500 rounded"-->
<!--          >-->
<!--          <label for="parking" class="ml-2 block text-harmony-black-700 dark:text-white">Parqueadero</label>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div class="pt-2">-->
<!--        <button-->
<!--            type="submit"-->
<!--            class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md transition-colors duration-300 flex items-center justify-center"-->
<!--        >-->
<!--          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">-->
<!--            <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" />-->
<!--          </svg>-->
<!--          Reservar por WhatsApp-->
<!--        </button>-->
<!--      </div>-->
<!--    </form>-->
<!--  </div>-->
<!--</div>-->

<div class="absolute bottom-12 left-1/2 -translate-x-1/2 w-full max-w-4xl">
    <div class="mx-4 bg-white rounded-lg shadow-xl p-6">
        <div class="grid md:grid-cols-4 gap-4">
            <div class="space-y-2">
                <label class="text-sm text-gray-600 flex items-center gap-2" data-trans-key="search.checkIn">
                    <Calendar class="w-4 h-4"/>
                    <!--{trans('search.checkIn')}-->
                </label>
                <label>
                    <!--value={todayFormatted}-->
                    <input
                            type="date"
                            value="1"
                            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500"
                    />
                </label>
            </div>
            <div class="space-y-2">
                <label class="text-sm text-gray-600 flex items-center gap-2">
                    <Calendar class="w-4 h-4"/>
                    <!--{trans('search.checkOut')}-->
                </label>
                <label>
                    <!--value={tomorrowFormatted}-->
                    <input
                            type="date"
                            value="1"
                            class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500"
                    />
                </label>

            </div>
            <div class="space-y-2">
                <label class="text-sm text-gray-600 flex items-center gap-2">
                    <Users class="w-4 h-4"/>
                    <!--{trans('search.adults')}-->
                </label>
                <select
                        class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500"
                >
                    <!--{[1, 2, 3, 4, 5, 6].map(n => (-->
                    <!--        <option value={n} selected={n === 2}>-->
                    <!--            {n} {n === 1 ? trans("search.adult") : trans("search.adults_plural")}-->
                    <!--        </option>-->
                    <!--))}-->
                </select>
            </div>
            <div class="space-y-2">
                <label class="text-sm text-gray-600 flex items-center gap-2">
                    <Baby class="w-4 h-4"/>
                    <!--{trans('search.children')}-->
                </label>
                <label for="children-count"></label>
                <select
                        id="children-count"
                        class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500"
                >
                    <!--<option value="0" selected>{trans("search.noChildren")}</option>-->
                    <!--{[1, 2, 3, 4].map(n => (-->
                    <!--        <option value={n}>-->
                    <!--            {n} {n === 1 ? trans("search.child") : trans("search.children_plural")}-->
                    <!--        </option>-->
                    <!--))}-->
                </select>
            </div>
        </div>

        <!-- Children Ages (hidden by default) -->
        <div id="children-ages" class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 hidden">
            <!-- Will be populated by JavaScript -->
        </div>

        <div class="mt-6">
            <button
                    class="w-full bg-gold-600 text-white h-12 rounded-md flex items-center justify-center gap-2 hover:bg-gold-700 transition-colors"
            >
                <Search class="w-5 h-5"/>
                <!--{trans("search.search")}-->
            </button>
        </div>
    </div>
</div>
